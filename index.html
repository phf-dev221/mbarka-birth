<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyeux Anniversaire Ma vie</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>tailwind.config={theme:{extend:{colors:{primary:'#F8D7DA',secondary:'#F4D03F'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        :where([class^="ri-"])::before { content: "\f3c2"; }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes fallDown {
            0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .petal {
            position: absolute;
            width: 15px;
            height: 15px;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            z-index: 1;
            animation: fallDown linear forwards;
        }
        
        .star {
            position: absolute;
            background-color: #F4D03F;
            border-radius: 50%;
            filter: blur(1px);
            opacity: 0;
            animation: twinkle 4s infinite;
        }
        
        @keyframes twinkle {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        .animate-fade-in {
            animation: fadeIn 1s ease forwards;
        }
        
        .animate-scale-in {
            animation: scaleIn 0.5s ease forwards;
        }
        
        .font-dancing {
            font-family: 'Dancing Script', cursive;
        }
        
        .font-montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        
        .slide {
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        .slide.active {
            opacity: 1;
        }
    </style>
</head>
<body class="bg-[#FDFBFB] font-montserrat text-gray-800 min-h-screen relative overflow-x-hidden">
    <!-- Stars background -->
    <div id="stars-container" class="fixed inset-0 z-0 pointer-events-none"></div>
    
    <!-- Petals container -->
    <div id="petals-container" class="fixed inset-0 z-0 pointer-events-none"></div>
    
    <!-- Main content -->
    <div class="relative z-10 px-4 pt-12 pb-24">
        <!-- Header -->
        <header class="text-center mb-10 opacity-0 animate-fade-in" style="animation-delay: 0.3s;">
            <h1 class="font-dancing text-4xl md:text-5xl text-primary mb-2">Joyeux Anniversaire</h1>
            <h2 class="font-dancing text-2xl md:text-3xl text-primary mb-6">Ma Soeur</h2>
            <p class="text-sm text-gray-500">27 Decembre 2025</p>
        </header>

            <!-- Music control -->
    <!-- <button id="music-btn" class="fixed bottom-6 left-6 w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center text-primary z-20 cursor-pointer !rounded-button">
        <i class="ri-volume-mute-fill ri-lg" id="music-icon"></i>
    </button> -->

    <!-- Birthday music button -->
    <button id="birthday-btn" class="fixed bottom-6 right-20 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center text-primary z-20 cursor-pointer !rounded-button">
        <span>üéÇ</span>
    </button>
        
        <!-- Main message -->
        <section class="max-w-xs mx-auto mb-12 opacity-0 animate-fade-in" style="animation-delay: 0.6s;">
            <div class="bg-white/80 backdrop-blur-sm p-6 rounded-lg shadow-md border border-primary/20">
                <p class="font-dancing text-lg mb-4 leading-relaxed">
                    Chaque jour √† tes c√¥t√©s est un cadeau, mais aujourd'hui est sp√©cial car c'est ton jour.
                </p>
                <p class="text-sm mb-4 leading-relaxed">
                    Des abyssales de mon coeur je puise ces mots. Oui toi ma soeur, ma m√©re, mon amie, ma confidente, mon amour, mon tout.<br>
                    Tu es la lumi√®re qui illumine mes jours les plus sombres, la force qui me pousse √† √™tre meilleur, et la joie qui remplit mon c≈ìur de bonheur.<br>
                    T'es une reference √° mes yeux <strong>MBARKA</strong>, un modele de courage, de gentillesse et de responsabilit√©.<br>
                </p>
                <p class="text-sm mb-4 leading-relaxed">
                    En ce jour si particulier, je voulais te cr√©er quelque chose d'aussi unique que toi, pour te dire simplement: je t'aime plus que les mots ne peuvent l'exprimer.
                </p>
                <p class="font-dancing text-right text-primary text-lg">Avec toute ma fraternit√©</p>
            </div>
        </section>
        
        <!-- Photo gallery -->
        <section class="max-w-xs mx-auto mb-12 opacity-0 animate-fade-in" style="animation-delay: 0.9s;">
            <h3 class="font-dancing text-2xl text-center mb-4 text-primary">La plus belle</h3>
            
            <div class="relative h-80 rounded-lg overflow-hidden shadow-lg">
                <div id="carousel" class="h-full">
                    <div class="slide active absolute inset-0">

                        
                        <img src="img/p1.jpg" alt="Nous deux" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="slide absolute inset-0">
                        <img src="img/p2.jpg" alt="Coucher de soleil" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="slide absolute inset-0">
                        <img src="img/p3.jpg" alt="Caf√© ensemble" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="slide absolute inset-0">
                        <img src="img/p4.jpg" alt="Pique-nique" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="slide absolute inset-0">
                        <img src="img/p5.jpg" alt="Danse" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="slide absolute inset-0">
                        <img src="img/photo_2025-12-26_23-29-42.jpg" alt="Danse" class="w-full h-full object-cover object-top">
                    </div>
                </div>
                
                <!-- Navigation dots -->
                <div class="absolute bottom-4 left-0 right-0 flex justify-center space-x-2">
                    <button class="w-2 h-2 rounded-full bg-white opacity-100 focus:outline-none" data-index="0"></button>
                    <button class="w-2 h-2 rounded-full bg-white opacity-50 focus:outline-none" data-index="1"></button>
                    <button class="w-2 h-2 rounded-full bg-white opacity-50 focus:outline-none" data-index="2"></button>
                    <button class="w-2 h-2 rounded-full bg-white opacity-50 focus:outline-none" data-index="3"></button>
                    <button class="w-2 h-2 rounded-full bg-white opacity-50 focus:outline-none" data-index="4"></button>
                </div>
                
                <!-- Navigation arrows -->
                <button class="absolute left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-white/30 backdrop-blur-sm rounded-full text-white focus:outline-none" id="prev-btn">
                    <i class="ri-arrow-left-s-line ri-lg"></i>
                </button>
                <button class="absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-white/30 backdrop-blur-sm rounded-full text-white focus:outline-none" id="next-btn">
                    <i class="ri-arrow-right-s-line ri-lg"></i>
                </button>
            </div>
        </section>
        
        <!-- Memories section -->
<section class="max-w-md mx-auto mb-12 animate-fade-in" style="animation-delay: 1.2s;">
  <h3 class="font-dancing text-2xl text-center mb-6 text-primary">Beaut√© en mouvement</h3>

  <div class="grid grid-cols-2 sm:grid-cols-2 gap-4">
    <div class="bg-white p-2 rounded-lg shadow-md border border-primary/20">
      <div class="aspect-[9/16] mb-2 rounded overflow-hidden">
        <video src="img/v0.mp4" autoplay loop muted playsinline class="w-full h-full object-cover"></video>
      </div>
      <h4 class="text-xs font-medium text-center text-gray-800">Du noir sur du marron</h4>
    </div>

    <div class="bg-white p-2 rounded-lg shadow-md border border-primary/20">
      <div class="aspect-[9/16] mb-2 rounded overflow-hidden">
        <video src="img/v1.mp4" autoplay loop muted playsinline class="w-full h-full object-cover"></video>
      </div>
      <h4 class="text-xs font-medium text-center text-gray-800">Fra√Æche et styl√©e</h4>
    </div>

    <div class="bg-white p-2 rounded-lg shadow-md border border-primary/20">
      <div class="aspect-[9/16] mb-2 rounded overflow-hidden">
        <video src="img/v4.mp4" autoplay loop muted playsinline class="w-full h-full object-cover"></video>
      </div>
      <h4 class="text-xs font-medium text-center text-gray-800">Elegante et raffin√©e</h4>
    </div>

    <div class="bg-white p-2 rounded-lg shadow-md border border-primary/20">
      <div class="aspect-[9/16] mb-2 rounded overflow-hidden">
        <video src="img/v3.mp4" autoplay loop muted playsinline class="w-full h-full object-cover"></video>
      </div>
      <h4 class="text-xs font-medium text-center text-gray-800">Une salihate</h4>
    </div>
  </div>
</section>

        
        <!-- Wishes section -->
        <section class="max-w-xs mx-auto mb-12 opacity-0 animate-fade-in" style="animation-delay: 1.5s;">
            <h3 class="font-dancing text-2xl text-center mb-4 text-primary">Mes v≈ìux pour toi</h3>
            
            <div class="bg-white/80 backdrop-blur-sm p-6 rounded-lg shadow-md border border-primary/20">
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-heart-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que cette ann√©e t'apporte bonheur, prosp√©rit√©, r√©ussite</p>
                    </li>
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-star-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que tes r√™ves les plus chers se r√©alisent</p>
                    </li>
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-sun-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que chaque jour soit rempli de petits moments de joie</p>
                    </li class="flex items-start">
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-hand-heart-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que notre amour continue de grandir et s'√©panouir √° jamais</p>
                    </li>
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-emotion-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que la b√©n√©diction de nos parents te suivent √° jamais</p>
                    </li>
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-rocket-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que cette nouvelle ann√©e de ta vie soit pleine d'aventures excitantes</p>
                    </li>
                    <li class="flex items-start">
                        <div class="w-6 h-6 flex items-center justify-center text-secondary mr-2">
                            <i class="ri-moon-fill ri-lg"></i>
                        </div>
                        <p class="text-sm">Que tu trouves la paix et la s√©r√©nit√© dans chaque nuit √©toil√©e</p>
                    </li>
                </ul>
            </div>
        </section>
    </div>
    
    <!-- Love letter button -->
    <button id="love-letter-btn" class="fixed bottom-6 right-6 w-14 h-14 bg-primary rounded-full shadow-lg flex items-center justify-center text-white z-20 animate-float cursor-pointer !rounded-button">
        <span class="text-xl">üíå</span>
    </button>
    
    <!-- Music control -->
    <button id="music-btn" class="fixed bottom-6 left-6 w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full shadow-lg flex items-center justify-center text-primary z-20 cursor-pointer !rounded-button">
        <i class="ri-volume-mute-fill ri-lg" id="music-icon"></i>
    </button>
    
    <!-- Modal for love letter -->
    <div id="love-letter-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-30 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-lg max-w-xs w-full p-6 opacity-0 animate-scale-in">
            <div class="text-right mb-2">
                <button id="close-modal" class="w-6 h-6 flex items-center justify-center text-gray-500 cursor-pointer">
                    <i class="ri-close-line ri-lg"></i>
                </button>
            </div>
            
            <h3 class="font-dancing text-2xl text-center mb-4 text-primary">Mon mot doux</h3>
            
            <div class="bg-primary/10 p-4 rounded-lg mb-4">
                <p>
                    <h3 class="font-dancing text-lg mb-3">Fall Damel, tawou bayam</h3>
<p>Je tiens √† t‚Äôexprimer une gratitude infinie pour tous ces moments o√π tu as √©t√© pr√©sente pour chacun de mes besoins, pour chaque probl√®me que tu fais tien comme s‚Äôil √©tait le tien, et pour chacune de mes r√©ussites que tu c√©l√®bres avec une joie sinc√®re.
Sache que tu ne portes pas seulement la b√©n√©diction de nos parents, mais aussi celle de tous tes fr√®res et s≈ìurs. Nous sommes l√†, et nous le serons toujours, pr√™ts √† donner de notre sang pour ton bonheur, ne serait-ce que pour te rendre un milli√®me de tout ce que tu nous apportes chaque jour.
Aujourd‚Äôhui encore, je rends gr√¢ce √† Allah de t‚Äôavoir mise sur notre chemin, et je Lui demande qu‚ÄôIl te permette d‚Äôy demeurer encore de longues et belles ann√©es.
<strong>I love you the way coffee loves milk üòâ</strong></p>
                </p>
            </div>
        </div>
    </div>
    
    <!-- Audio element -->
    <audio id="background-music" loop>
        <source src="https://www.bensound.com/bensound-music/bensound-tenderness.mp3" type="audio/mp3">
    </audio>
    
    <!-- Scripts -->
    <script id="stars-script">
        document.addEventListener('DOMContentLoaded', function() {
            const starsContainer = document.getElementById('stars-container');
            
            // Create stars
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Random size
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Random position
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                star.style.left = `${posX}%`;
                star.style.top = `${posY}%`;
                
                // Random animation delay
                star.style.animationDelay = `${Math.random() * 4}s`;
                
                starsContainer.appendChild(star);
            }
        });
    </script>
    
    <script id="petals-script">
        document.addEventListener('DOMContentLoaded', function() {
            const petalsContainer = document.getElementById('petals-container');
            const petalImages = [
                'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="%23F8D7DA" d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/></svg>',
                'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="%23F4D03F" d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/></svg>'
            ];
            
            function createPetal() {
                if (!document.hidden) {
                    const petal = document.createElement('div');
                    petal.classList.add('petal');
                    
                    // Random image
                    const randomImage = petalImages[Math.floor(Math.random() * petalImages.length)];
                    petal.style.backgroundImage = `url('${randomImage}')`;
                    
                    // Random position
                    const posX = Math.random() * 100;
                    petal.style.left = `${posX}%`;
                    
                    // Random size
                    const size = Math.random() * 10 + 10;
                    petal.style.width = `${size}px`;
                    petal.style.height = `${size}px`;
                    
                    // Random duration
                    const duration = Math.random() * 10 + 10;
                    petal.style.animationDuration = `${duration}s`;
                    
                    petalsContainer.appendChild(petal);
                    
                    // Remove after animation
                    setTimeout(() => {
                        petal.remove();
                    }, duration * 1000);
                }
            }
            
            // Create petals periodically
            setInterval(createPetal, 300);
            
            // Create initial petals
            for (let i = 0; i < 10; i++) {
                setTimeout(createPetal, i * 300);
            }
        });
    </script>
    
    <script id="carousel-script">
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('[data-index]');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            let currentIndex = 0;
            
            function showSlide(index) {
                // Hide all slides
                slides.forEach(slide => {
                    slide.classList.remove('active');
                });
                
                // Update dots
                dots.forEach(dot => {
                    dot.style.opacity = '0.5';
                });
                
                // Show current slide
                slides[index].classList.add('active');
                dots[index].style.opacity = '1';
                
                currentIndex = index;
            }
            
            // Next slide
            function nextSlide() {
                let nextIndex = currentIndex + 1;
                if (nextIndex >= slides.length) {
                    nextIndex = 0;
                }
                showSlide(nextIndex);
            }
            
            // Previous slide
            function prevSlide() {
                let prevIndex = currentIndex - 1;
                if (prevIndex < 0) {
                    prevIndex = slides.length - 1;
                }
                showSlide(prevIndex);
            }
            
            // Auto slide
            let slideInterval = setInterval(nextSlide, 5000);
            
            // Event listeners
            nextBtn.addEventListener('click', () => {
                clearInterval(slideInterval);
                nextSlide();
                slideInterval = setInterval(nextSlide, 5000);
            });
            
            prevBtn.addEventListener('click', () => {
                clearInterval(slideInterval);
                prevSlide();
                slideInterval = setInterval(nextSlide, 5000);
            });
            
            // Dot navigation
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    clearInterval(slideInterval);
                    const index = parseInt(dot.getAttribute('data-index'));
                    showSlide(index);
                    slideInterval = setInterval(nextSlide, 5000);
                });
            });
            
            // Touch swipe
            let touchStartX = 0;
            let touchEndX = 0;
            
            const carousel = document.getElementById('carousel');
            
            carousel.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            carousel.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                if (touchEndX < touchStartX - 50) {
                    // Swipe left
                    clearInterval(slideInterval);
                    nextSlide();
                    slideInterval = setInterval(nextSlide, 5000);
                } else if (touchEndX > touchStartX + 50) {
                    // Swipe right
                    clearInterval(slideInterval);
                    prevSlide();
                    slideInterval = setInterval(nextSlide, 5000);
                }
            }
        });
    </script>
    
    <script id="modal-script">
        document.addEventListener('DOMContentLoaded', function() {
            const loveLetterBtn = document.getElementById('love-letter-btn');
            const loveLetterModal = document.getElementById('love-letter-modal');
            const closeModalBtn = document.getElementById('close-modal');
            
            loveLetterBtn.addEventListener('click', () => {
                loveLetterModal.style.display = 'flex';
                setTimeout(() => {
                    loveLetterModal.querySelector('.animate-scale-in').style.opacity = '1';
                }, 10);
            });
            
            closeModalBtn.addEventListener('click', () => {
                loveLetterModal.querySelector('.animate-scale-in').style.opacity = '0';
                setTimeout(() => {
                    loveLetterModal.style.display = 'none';
                }, 300);
            });
            
            loveLetterModal.addEventListener('click', (e) => {
                if (e.target === loveLetterModal) {
                    loveLetterModal.querySelector('.animate-scale-in').style.opacity = '0';
                    setTimeout(() => {
                        loveLetterModal.style.display = 'none';
                    }, 300);
                }
            });
        });
    </script>
    
    <script id="music-script">
        document.addEventListener('DOMContentLoaded', function() {
            const musicBtn = document.getElementById('music-btn');
            const musicIcon = document.getElementById('music-icon');
            const backgroundMusic = document.getElementById('background-music');
            let isMusicPlaying = false;
            
            musicBtn.addEventListener('click', () => {
                if (isMusicPlaying) {
                    backgroundMusic.pause();
                    musicIcon.classList.remove('ri-volume-up-fill');
                    musicIcon.classList.add('ri-volume-mute-fill');
                } else {
                    backgroundMusic.play().catch(e => {
                        console.log('Auto-play prevented:', e);
                    });
                    musicIcon.classList.remove('ri-volume-mute-fill');
                    musicIcon.classList.add('ri-volume-up-fill');
                }
                
                isMusicPlaying = !isMusicPlaying;
            });
        });
    </script>
    
    <script id="animation-script">
        document.addEventListener('DOMContentLoaded', function() {
            // Animate elements when they enter viewport
            const animateElements = document.querySelectorAll('.animate-fade-in');
            
            function checkScroll() {
                animateElements.forEach(element => {
                    const elementTop = element.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (elementTop < windowHeight - 50) {
                        element.style.opacity = '1';
                    }
                });
            }
            
            // Initial check
            checkScroll();
            
            // Check on scroll
            window.addEventListener('scroll', checkScroll);
        });

        // Birthday music button
        document.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('birthday-btn');
            if (!btn) return;

            const AudioCtx = window.AudioContext || window.webkitAudioContext;
            const ctx = new AudioCtx();

            // Frequencies map
            const notes = {
                'C4':261.63,'D4':293.66,'E4':329.63,'F4':349.23,'G4':392.00,'A4':440.00,'B4':493.88,
                'C5':523.25,'D5':587.33,'E5':659.25,'F5':698.46,'G5':783.99
            };

            // Simplified "Happy Birthday" melody (note, length in beats)
            const melody = [
                ['G4',0.5],['G4',0.5],['A4',1],['G4',1],['C5',1],['B4',2],
                ['G4',0.5],['G4',0.5],['A4',1],['G4',1],['D5',1],['C5',2],
                ['G4',0.5],['G4',0.5],['G5',1],['E5',1],['C5',1],['B4',1],['A4',2],
                ['F5',0.5],['F5',0.5],['E5',1],['C5',1],['D5',1],['C5',2]
            ];

            function playTone(freq, duration, startTime) {
                const o = ctx.createOscillator();
                const g = ctx.createGain();
                o.type = 'sine';
                o.frequency.value = freq;
                g.gain.setValueAtTime(0.0001, startTime);
                g.gain.exponentialRampToValueAtTime(0.25, startTime + 0.01);
                g.gain.exponentialRampToValueAtTime(0.0001, startTime + duration - 0.02);
                o.connect(g);
                g.connect(ctx.destination);
                o.start(startTime);
                o.stop(startTime + duration);
            }
            function playMelody(tempo = 120) {
                if (ctx.state === 'suspended') ctx.resume();
                const beat = 60 / tempo;
                let t = ctx.currentTime + 0.05;
                melody.forEach(([name, len]) => {
                    const freq = notes[name] || 440;
                    const dur = len * beat;
                    playTone(freq, dur, t);
                    t += dur * 1.05;
                });
            }

            btn.addEventListener('click', () => {
                playMelody(110); // tempo: 110 BPM
            });
        });
    </script>
</body>
</html>